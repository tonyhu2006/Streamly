<!--
  Copyright 2018 LNFWebsite

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->
<!doctype html>
<html>
<head>
  <title>Streamly</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Streamly - ç°ä»£åŒ–çš„åœ¨çº¿è§†é¢‘æµåª’ä½“æ’­æ”¾å™¨ï¼Œæ”¯æŒ YouTube è§†é¢‘æœç´¢å’Œæ’­æ”¾ï¼Œæä¾›ä¼˜é›…çš„ç”¨æˆ·ç•Œé¢å’Œæµç•…çš„æ’­æ”¾ä½“éªŒã€‚" />
  
  <!-- ç°ä»£åŒ–å­—ä½“ -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">

  <!-- å¤–éƒ¨æ ·å¼åº“ -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/FortAwesome/Font-Awesome@6/css/all.min.css" type="text/css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" type="text/css" />
  <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css" type="text/css" />

  <!-- Icon Stuff -->
  <link rel="shortcut icon" id="favicon" href="res/img/favicon.png" type="image/x-icon" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <link rel="apple-touch-startup-image" href="res/img/icon.png">
  <link rel="apple-touch-icon" href="res/img/icon.png"/>
  <link rel="apple-touch-icon-precomposed" sizes="128x128" href="res/img/icon.png">
  <meta name="mobile-web-app-capable" content="yes">
  <link rel="shortcut icon" sizes="196x196" href="res/img/icon.png">
  <link rel="shortcut icon" sizes="128x128" href="res/img/icon.png">
  
  <!-- Meta tags for Open Graph Protocol -->
  <meta property="og:title" id="ogTitle" content="Streamly - ç°ä»£åŒ–è§†é¢‘æµåª’ä½“æ’­æ”¾å™¨" />
  <meta property="og:url" content="https://lnfwebsite.github.io/Streamly" />
  <meta property="og:image" content="https://raw.githubusercontent.com/LNFWebsite/Streamly/master/res/img/icon.png" />
  
  <!-- CSS Stylesheet -->
  <link rel="stylesheet" href="res/css/styles.css" type="text/css" />
  <link rel="stylesheet" href="res/css/modern-theme.css" type="text/css" />
  <!--<link rel="stylesheet" href="res/css/sbs.css" type="text/css" />-->

  <!-- External scripts -->
  <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
  <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script>
  <!--<script src="https://cdn.jsdelivr.net/gh/urin/jquery.balloon.js@1/jquery.balloon.min.js"></script>-->
</head>
<body>
  <div id="dataFramesContainer"></div>
  <header>
    <h1 id="title">
      <a href="">
        <img id="logo" src="https://raw.githubusercontent.com/LNFWebsite/Streamly/master/res/img/logo/logo_streamly_color/logo_streamly_color_low_res.png" />
      </a>
    </h1>
    <div id="inputBoxContainer">
      <form action="javascript:input(0);" method="get" id="searchForm">
        <input type="text" id="inputBox" placeholder="ğŸ¬ æœç´¢è§†é¢‘ã€ç”µå½±ã€çºªå½•ç‰‡æˆ–é¢‘é“..." />
      </form>
      <div id="searchProgress">
        <div class="spinner">
          <div class="bounce1"></div>
          <div class="bounce2"></div>
          <div class="bounce3"></div>
        </div>
      </div>
    </div>
    <button id="playlistManagerButton" onclick="togglePlaylistManager();" title="æ’­æ”¾åˆ—è¡¨ç®¡ç†">ğŸ“‹</button>
    <span class="fas fa-columns headerButton" id="sbsButton" onclick="toggleSBS();" title="Toggle side-by-side view"></span>
    <span class="fas fa-cog headerButton" id="settingsButton" onclick="toggleMenu('settings');" title="Settings"></span>
    <span class="fas fa-exchange" id="stationIcon" onclick="disconnectStation();" title="Streamly Station is connected. Click to disconnect..."></span>
  </header>
  <div id="main">
    <div id="dropShadow"></div>
    <div id="dropOverlay"><p>(Drop videos/playlists anywhere on screen)</p></div>
    <div id="searchResultsWindow" class="floatingMenu">
      <h2>æœç´¢ç»“æœ:</h2>
      <div class="floatingMenuCloseButton" onclick="toggleMenu('searchResults');">å…³é—­</div>
      <div id="searchStatus" style="padding: 10px; font-style: italic; color: #666; display: none;"></div>
      <div id="searchResults" class="floatingMenuContents"></div>
    </div>
    <div id="settingsWindow" class="floatingMenu">
      <div class="floatingMenuCloseButton" onclick="toggleMenu('settings');">Ã—</div>
      <h2>ğŸ¬ Streamly è®¾ç½®</h2>
      <div class="floatingMenuContents">

        <!-- æ’­æ”¾è®¾ç½® -->
        <div class="settings-section">
          <h3>ğŸµ æ’­æ”¾è®¾ç½®</h3>
          <div class="setting-item">
            <label for="autoplayNext">è‡ªåŠ¨æ’­æ”¾ä¸‹ä¸€ä¸ªè§†é¢‘:</label>
            <input type="checkbox" id="autoplayNext" checked onchange="toggleAutoplayNext();">
          </div>
          <div class="setting-item">
            <label for="defaultVolume">é»˜è®¤éŸ³é‡:</label>
            <input type="range" id="defaultVolume" min="0" max="100" value="80" onchange="setDefaultVolume(this.value);">
            <span id="volumeValue">80%</span>
          </div>
          <div class="setting-item">
            <label for="playbackQuality">é»˜è®¤æ’­æ”¾è´¨é‡:</label>
            <select id="playbackQuality" onchange="setPlaybackQuality(this.value);">
              <option value="auto">è‡ªåŠ¨</option>
              <option value="hd1080">1080p</option>
              <option value="hd720">720p</option>
              <option value="large">480p</option>
              <option value="medium">360p</option>
            </select>
          </div>
        </div>

        <!-- ç•Œé¢è®¾ç½® -->
        <div class="settings-section">
          <h3>ğŸ¨ ç•Œé¢è®¾ç½®</h3>
          <div class="setting-item">
            <label for="SBStoggle">åˆ†å±æ˜¾ç¤ºæ¨¡å¼:</label>
            <input type="checkbox" id="SBStoggle" onchange="toggleSBS();">
          </div>
          <div class="setting-item">
            <label for="darkMode">æ·±è‰²ä¸»é¢˜:</label>
            <input type="checkbox" id="darkMode" checked onchange="toggleDarkMode();">
          </div>
          <div class="setting-item">
            <label for="showThumbnails">æ˜¾ç¤ºè§†é¢‘ç¼©ç•¥å›¾:</label>
            <input type="checkbox" id="showThumbnails" checked onchange="toggleThumbnails();">
          </div>
          <div class="setting-item">
            <label for="zenModeToggle">ä¸“æ³¨æ¨¡å¼ (éšè—å¹²æ‰°å…ƒç´ ):</label>
            <input type="checkbox" id="zenModeToggle" onchange="toggleZen();">
          </div>
        </div>

        <!-- æœç´¢è®¾ç½® -->
        <div class="settings-section">
          <h3>ğŸ” æœç´¢è®¾ç½®</h3>
          <div class="setting-item">
            <label for="searchClose">æ·»åŠ è§†é¢‘åè‡ªåŠ¨å…³é—­æœç´¢çª—å£:</label>
            <input type="checkbox" id="searchClose" onchange="toggleSearchClose();">
            <small>æç¤º: æŒ‰ Shift+\ å¯ä¸´æ—¶åè½¬æ­¤è®¾ç½®</small>
          </div>
          <div class="setting-item">
            <label for="searchResults">æœç´¢ç»“æœæ•°é‡:</label>
            <select id="searchResults" onchange="setSearchResultsCount(this.value);">
              <option value="10">10ä¸ªç»“æœ</option>
              <option value="20" selected>20ä¸ªç»“æœ</option>
              <option value="30">30ä¸ªç»“æœ</option>
              <option value="50">50ä¸ªç»“æœ</option>
            </select>
          </div>
          <div class="setting-item">
            <label for="safeSearch">å®‰å…¨æœç´¢:</label>
            <select id="safeSearch" onchange="setSafeSearch(this.value);">
              <option value="moderate" selected>ä¸­ç­‰</option>
              <option value="strict">ä¸¥æ ¼</option>
              <option value="none">å…³é—­</option>
            </select>
          </div>
        </div>

        <!-- æ’­æ”¾åˆ—è¡¨è®¾ç½® -->
        <div class="settings-section">
          <h3>ğŸ“‹ æ’­æ”¾åˆ—è¡¨è®¾ç½®</h3>
          <div class="setting-item">
            <label for="autoplayListOverride">ä½¿ç”¨ YouTube æ··åˆæ’­æ”¾åˆ—è¡¨ä½œä¸ºç”µå°:</label>
            <input type="checkbox" id="autoplayListOverride" onchange="toggleAutoplayListOverride();">
          </div>
          <div class="setting-item">
            <label for="shuffleMode">é»˜è®¤éšæœºæ’­æ”¾:</label>
            <input type="checkbox" id="shuffleMode" onchange="toggleShuffleMode();">
          </div>
          <div class="setting-item">
            <label for="repeatMode">é»˜è®¤é‡å¤æ’­æ”¾:</label>
            <select id="repeatMode" onchange="setRepeatMode(this.value);">
              <option value="none">ä¸é‡å¤</option>
              <option value="one">å•æ›²å¾ªç¯</option>
              <option value="all">åˆ—è¡¨å¾ªç¯</option>
            </select>
          </div>
        </div>

        <!-- é«˜çº§è®¾ç½® -->
        <div class="settings-section">
          <h3>âš™ï¸ é«˜çº§è®¾ç½®</h3>
          <div class="setting-item">
            <label for="preloadVideos">é¢„åŠ è½½è§†é¢‘:</label>
            <input type="checkbox" id="preloadVideos" checked onchange="togglePreloadVideos();">
            <small>æé«˜æ’­æ”¾æµç•…åº¦ï¼Œä½†ä¼šå¢åŠ æ•°æ®ä½¿ç”¨é‡</small>
          </div>
          <div class="setting-item">
            <label for="keyboardShortcuts">å¯ç”¨é”®ç›˜å¿«æ·é”®:</label>
            <input type="checkbox" id="keyboardShortcuts" checked onchange="toggleKeyboardShortcuts();">
          </div>
          <div class="setting-item">
            <label for="analyticsEnabled">ä½¿ç”¨ç»Ÿè®¡ (åŒ¿å):</label>
            <input type="checkbox" id="analyticsEnabled" onchange="toggleAnalytics();">
            <small>å¸®åŠ©æ”¹è¿› Streamly</small>
          </div>
        </div>

        <!-- æ•°æ®ç®¡ç† -->
        <div class="settings-section">
          <h3>ğŸ’¾ æ•°æ®ç®¡ç†</h3>
          <div class="setting-item">
            <button class="settings-button" onclick="exportSettings();">å¯¼å‡ºè®¾ç½®</button>
            <button class="settings-button" onclick="importSettings();">å¯¼å…¥è®¾ç½®</button>
          </div>
          <div class="setting-item">
            <button class="settings-button" onclick="clearCache();">æ¸…é™¤ç¼“å­˜</button>
            <button class="settings-button danger" onclick="resetSettings();">é‡ç½®æ‰€æœ‰è®¾ç½®</button>
          </div>
        </div>

        <!-- å…³äºä¿¡æ¯ -->
        <div class="settings-section">
          <h3>â„¹ï¸ å…³äº Streamly</h3>
          <div class="about-info">
            <p><strong>ç‰ˆæœ¬:</strong> 2.0.0</p>
            <p><strong>æ„å»ºæ—¥æœŸ:</strong> <span id="buildDate">2024-01-01</span></p>
            <p><strong>å¼€æºé¡¹ç›®:</strong> <a href="https://github.com/tonyhu2006/Streamly" target="_blank">GitHub</a></p>
            <p><strong>è®¸å¯è¯:</strong> Apache 2.0</p>
          </div>
        </div>

      </div>
    </div>

    <!-- æ’­æ”¾åˆ—è¡¨ç®¡ç†çª—å£ -->
    <div id="playlistManagerWindow" class="floatingMenu" style="display: none;">
      <div class="floatingMenuCloseButton" onclick="togglePlaylistManager();">Ã—</div>
      <h2>ğŸ“‹ æ’­æ”¾åˆ—è¡¨ç®¡ç†</h2>
      <div class="floatingMenuContents">

        <!-- å½“å‰çŠ¶æ€ -->
        <div class="playlist-section">
          <h3>å½“å‰çŠ¶æ€</h3>
          <div class="current-status">
            <div class="status-item">
              <span class="status-label">å½“å‰æ¨¡å¼:</span>
              <span id="currentModeDisplay">ä¸´æ—¶æ’­æ”¾é˜Ÿåˆ—</span>
            </div>
            <div class="status-item">
              <span class="status-label">é˜Ÿåˆ—ä¸­è§†é¢‘:</span>
              <span id="currentQueueCount">0</span>
            </div>
            <div class="status-item">
              <span class="status-label">æœ¬åœ°æ’­æ”¾åˆ—è¡¨:</span>
              <span id="localPlaylistCount">0</span>
            </div>
          </div>
        </div>

        <!-- å¿«é€Ÿæ“ä½œ -->
        <div class="playlist-section">
          <h3>å¿«é€Ÿæ“ä½œ</h3>
          <div class="quick-actions">
            <button class="action-button" onclick="saveCurrentQueueAsPlaylist();">
              <i class="fas fa-save"></i> ä¿å­˜å½“å‰é˜Ÿåˆ—
            </button>
            <button class="action-button" onclick="showCreatePlaylistDialog();">
              <i class="fas fa-plus"></i> åˆ›å»ºæ–°æ’­æ”¾åˆ—è¡¨
            </button>
            <button class="action-button secondary" onclick="switchPlaylist('temp');">
              <i class="fas fa-list"></i> åˆ‡æ¢åˆ°ä¸´æ—¶é˜Ÿåˆ—
            </button>
          </div>
        </div>

        <!-- æœ¬åœ°æ’­æ”¾åˆ—è¡¨ -->
        <div class="playlist-section">
          <h3>æœ¬åœ°æ’­æ”¾åˆ—è¡¨</h3>
          <div id="localPlaylistsList" class="playlists-container">
            <!-- æœ¬åœ°æ’­æ”¾åˆ—è¡¨å°†åœ¨è¿™é‡ŒåŠ¨æ€ç”Ÿæˆ -->
          </div>
        </div>

        <!-- ä¸´æ—¶æ’­æ”¾åˆ—è¡¨ï¼ˆåŸæœ‰åŠŸèƒ½ï¼‰ -->
        <div class="playlist-section">
          <h3>ä¸´æ—¶æ’­æ”¾åˆ—è¡¨</h3>
          <div class="create-playlist-form">
            <input type="text" id="newPlaylistName" placeholder="è¾“å…¥æ’­æ”¾åˆ—è¡¨åç§°..." maxlength="50">
            <textarea id="newPlaylistDescription" placeholder="æè¿°ï¼ˆå¯é€‰ï¼‰..." rows="2" maxlength="200"></textarea>
            <button class="action-button" onclick="createNewPlaylist();">
              <i class="fas fa-plus"></i> åˆ›å»ºä¸´æ—¶æ’­æ”¾åˆ—è¡¨
            </button>
          </div>

          <div id="playlistsList" class="playlists-container">
            <!-- ä¸´æ—¶æ’­æ”¾åˆ—è¡¨å°†åœ¨è¿™é‡ŒåŠ¨æ€ç”Ÿæˆ -->
          </div>
        </div>

      </div>
    </div>

    <!-- æ’­æ”¾åˆ—è¡¨é€‰æ‹©å¼¹çª— -->
    <div id="playlistSelectorModal" class="modal" style="display: none;" onclick="if(event.target === this) { closePlaylistSelector(); }">
      <div class="modal-content" onclick="event.stopPropagation();">
        <div class="modal-header">
          <h3>é€‰æ‹©æ’­æ”¾åˆ—è¡¨</h3>
          <button class="modal-close" onclick="closePlaylistSelector();">Ã—</button>
        </div>
        <div class="modal-body">
          <div id="playlistSelectorList" class="playlist-selector-list">
            <!-- æ’­æ”¾åˆ—è¡¨é€‰é¡¹å°†åœ¨è¿™é‡Œç”Ÿæˆ -->
          </div>
        </div>
        <div class="modal-footer">
          <button class="action-button secondary" onclick="closePlaylistSelector();">å–æ¶ˆ</button>
        </div>
      </div>
    </div>
    <form action="javascript:input(2);" method="get">
      <div id="playlistSelector" class="playlist-selector">
        <select id="currentPlaylistSelect" onchange="switchPlaylist(this.value);" title="é€‰æ‹©æ’­æ”¾åˆ—è¡¨">
          <option value="temp">ğŸ“ ä¸´æ—¶æ’­æ”¾é˜Ÿåˆ—</option>
        </select>
        <button id="newPlaylistBtn" onclick="showCreatePlaylistDialog();" title="åˆ›å»ºæ–°æ’­æ”¾åˆ—è¡¨">â•</button>
        <button id="saveQueueBtn" onclick="saveCurrentQueueAsPlaylist();" title="ä¿å­˜å½“å‰é˜Ÿåˆ—ä¸ºæ’­æ”¾åˆ—è¡¨">ğŸ’¾</button>
        <button id="managePlaylistsBtn" onclick="togglePlaylistManager();" title="ç®¡ç†æ’­æ”¾åˆ—è¡¨">ğŸ“‹</button>
      </div>
    </form>

    <!-- æ¬¢è¿æ¶ˆæ¯ -->
    <div id="welcomeMessage" class="welcome-message" style="display: none;">
      <h2>ğŸ¬ æ¬¢è¿ä½¿ç”¨ Streamly 2.0</h2>
      <p>å…¨æ–°çš„æœåŠ¡å™¨ç«¯è§†é¢‘æµåª’ä½“æ’­æ”¾å™¨</p>
      <p>âœ¨ åœ¨ä¸Šæ–¹æœç´¢æ¡†ä¸­è¾“å…¥è§†é¢‘åã€é¢‘é“æˆ–å…³é”®è¯å¼€å§‹æ‚¨çš„è§‚å½±ä¹‹æ—…</p>
      <p>ğŸ¯ æ”¯æŒæ™ºèƒ½æœç´¢ã€é«˜è´¨é‡æ’­æ”¾å’Œæ’­æ”¾åˆ—è¡¨ç®¡ç†</p>
      <p>ğŸš€ æ— éœ€å¤–éƒ¨æµè§ˆå™¨ï¼Œäº«å—çº¯å‡€çš„è§†é¢‘ä½“éªŒ</p>
    </div>

    <table id="videosTable"></table>
    <div id="links">
      <a href="/guide.html">ä½¿ç”¨æŒ‡å—</a> |
      <a href="https://github.com/LNFWebsite/Streamly/wiki/Playlists" target="_blank">æ’­æ”¾åˆ—è¡¨å¸®åŠ©</a> |
      <a href="https://lnfwebsite.github.io/Streamly-Import/" target="_blank">å¯¼å…¥æ’­æ”¾åˆ—è¡¨</a> |
      <a href="https://www.reddit.com/r/StreamlyReddit/" target="_blank">StreamlyReddit</a>
      <br>
      <span style="color:#4CAF50;">âœ“ æœåŠ¡å™¨ç«¯è§†é¢‘æœç´¢å’Œæ’­æ”¾åŠŸèƒ½å·²å¯ç”¨</span> |
      <span style="color:#2196F3;">æ”¯æŒå†…ç½®è§†é¢‘æµåª’ä½“æ’­æ”¾ï¼Œæ— éœ€å¤–éƒ¨æµè§ˆå™¨</span>
    </div>

    <!-- å¿«é€Ÿåˆ›å»ºæ’­æ”¾åˆ—è¡¨å¯¹è¯æ¡† -->
    <div id="quickCreatePlaylistModal" class="modal" style="display: none;" onclick="if(event.target === this) { closeQuickCreateDialog(); }">
      <div class="modal-content" onclick="event.stopPropagation();">
        <div class="modal-header">
          <h3>åˆ›å»ºæ–°æ’­æ”¾åˆ—è¡¨</h3>
          <button class="modal-close" onclick="closeQuickCreateDialog();">Ã—</button>
        </div>
        <div class="modal-body">
          <div class="quick-create-form">
            <input type="text" id="quickPlaylistName" placeholder="æ’­æ”¾åˆ—è¡¨åç§°..." maxlength="50">
            <textarea id="quickPlaylistDescription" placeholder="æè¿°ï¼ˆå¯é€‰ï¼‰..." rows="2" maxlength="200"></textarea>
          </div>
        </div>
        <div class="modal-footer">
          <button class="action-button" onclick="createQuickPlaylist();">åˆ›å»º</button>
          <button class="action-button secondary" onclick="closeQuickCreateDialog();">å–æ¶ˆ</button>
        </div>
      </div>
    </div>
  </div>
  <footer>
    <div id="previousVideo" onclick="backVideo();" title="Back">
      <div class="videoNameContainer">
        <p class="videoName"></p>
      </div>
      <div class="videoImageContainer">
        <div class="videoImageWrapper">
          <img class="videoImage" src="" />
          <span class="fas fa-backward"></span>
          <p class="videoTime"></p>
        </div>
      </div>
    </div>
    <div id="playlistInterface">
      <div id="youtubeContainer">
        <span id="remotePauseIcon" class="fas fa-play"></span>
        <div id="playerStatus" style="position: absolute; top: 5px; right: 5px; background: rgba(0,0,0,0.7); color: white; padding: 2px 6px; border-radius: 3px; font-size: 10px; z-index: 1000; display: none;"></div>
        <video id="videoPlayer" controls preload="metadata" style="width: 100%; height: 100%; display: none;">
          <source id="videoSource" src="" type="video/mp4">
          æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒ HTML5 è§†é¢‘æ’­æ”¾ã€‚
        </video>
        <iframe id="youtube" src="" allowfullscreen style="display: none;"></iframe>
      </div>
      <div id="currentVideoTiming">
        <span id="currentTime">0:00</span>
        <span id="progressContainer">
          <span id="progress" style="width:0%;"></span>
        </span>
        <span id="videoTime">0:00</span>
      </div>
    </div>
    <div id="nextVideo" onclick="forwardVideo();" title="Forward">
      <div class="videoImageContainer">
        <div class="videoImageWrapper">
          <img class="videoImage" src="" />
          <span class="fas fa-forward"></span>
          <p class="videoTime"></p>
        </div>
      </div>
      <div class="videoNameContainer">
        <p class="videoName"></p>
      </div>
    </div>
    <div id="settings">
      <span class="fas fa-arrow-circle-right" onclick="playlistFeatures.playNext();" title="Added videos will play next"></span>
      <span class="fas fa-random" onclick="playlistFeatures.shuffle();" title="Playlist shuffle"></span>
      <span class="fas fa-redo-alt" onclick="playlistFeatures.repeat();" title="Playlist repeat"></span>
      <span class="fas fa-rss" onclick="playlistFeatures.autoplay();" title="Streamly Radio"></span>
      <span class="fab fa-reddit" id="ad" onclick="shareOnReddit();" title="Share playlist on Reddit"></span>
    </div>
  </footer>
  <!----
  <div id="dialog"><p>Hey everyone, unfortunately YouTube has sealed off one of their data sources which has rendered quick search and in-box search unusable. Right now I've switched back to pop-up search until I can find a better solution. Rest assured your playlists always were and continue to be safe. I apologize for this inconvenience.</p></div>
  <script>
  //this is a standard dialog box for jquery that can be used to non-annoyingly get messages to users on-load
  $("#dialog").dialog();
  </script>
  ---->
  <script src="res/js/front/initialize.js"></script>
  <script src="res/js/front/youtube.js"></script>
  <script src="res/js/front/videoplayer.js"></script>
  <script src="res/js/front/share.js"></script>
  <script src="res/js/front/events.js"></script>

  <script src="res/js/back/global.js"></script>
  <script src="res/js/back/base.js"></script>
  <script src="res/js/back/playlistBack.js"></script>
  <script src="res/js/back/playlistFront.js"></script>
  <script src="res/js/back/data.js"></script>
  <script src="res/js/back/progress.js"></script>
  <script src="res/js/back/input.js"></script>
  <script src="res/js/back/search.js"></script>
  <script src="res/js/back/radio.js"></script>
  <script src="res/js/back/station.js"></script>
  <script src="res/js/back/toggles.js"></script>
  <!--
  <script src="https://cdn.jsdelivr.net/gh/LNFWebsite/Streamly@gh-pages/res/js/front/initialize.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/LNFWebsite/Streamly@gh-pages/res/js/front/youtube.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/LNFWebsite/Streamly@gh-pages/res/js/front/share.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/LNFWebsite/Streamly@gh-pages/res/js/front/events.min.js"></script>
  
  <script src="https://cdn.jsdelivr.net/gh/LNFWebsite/Streamly@gh-pages/res/js/back/global.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/LNFWebsite/Streamly@gh-pages/res/js/back/base.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/LNFWebsite/Streamly@gh-pages/res/js/back/playlistBack.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/LNFWebsite/Streamly@gh-pages/res/js/back/playlistFront.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/LNFWebsite/Streamly@gh-pages/res/js/back/data.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/LNFWebsite/Streamly@gh-pages/res/js/back/progress.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/LNFWebsite/Streamly@gh-pages/res/js/back/input.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/LNFWebsite/Streamly@gh-pages/res/js/back/search.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/LNFWebsite/Streamly@gh-pages/res/js/back/radio.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/LNFWebsite/Streamly@gh-pages/res/js/back/station.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/LNFWebsite/Streamly@gh-pages/res/js/back/toggles.min.js"></script>
  -->
  <!-- Start of StatCounter Code for Default Guide -->
  <script type="text/javascript">
  var sc_project=10543623;
  var sc_invisible=1;
  var sc_security="4c623aaf";
  </script>
  <script type="text/javascript"
  src="https://www.statcounter.com/counter/counter.js"
  async></script>
  <noscript><div class="statcounter"><a title="Web Analytics"
  href="http://statcounter.com/" target="_blank"><img
  class="statcounter"
  src="//c.statcounter.com/10543623/0/4c623aaf/1/" alt="Web
  Analytics"></a></div></noscript>
  <!-- End of StatCounter Code for Default Guide -->

  <!-- èƒŒæ™¯é€‰æ‹©å™¨ -->
  <script src="res/js/background-selector.js" type="text/javascript"></script>

  <!-- è®¾ç½®ç®¡ç†å™¨ -->
  <script src="res/js/settings-manager.js" type="text/javascript"></script>

  <!-- æ’­æ”¾åˆ—è¡¨ç®¡ç†å™¨ -->
  <script src="res/js/playlist-manager.js" type="text/javascript"></script>

  <!-- æœ¬åœ°æ’­æ”¾åˆ—è¡¨ç®¡ç†å™¨ -->
  <script src="res/js/local-playlist-manager.js" type="text/javascript"></script>

  <!-- ç°ä»£åŒ–ç•Œé¢å¢å¼ºè„šæœ¬ -->
  <script>
    // é¡µé¢åŠ è½½å®Œæˆåçš„åˆå§‹åŒ–
    document.addEventListener('DOMContentLoaded', function() {
      // æ˜¾ç¤ºæ¬¢è¿æ¶ˆæ¯ï¼ˆå¦‚æœæ’­æ”¾åˆ—è¡¨ä¸ºç©ºï¼‰
      function checkPlaylistEmpty() {
        const table = document.getElementById('videosTable');
        const welcomeMessage = document.getElementById('welcomeMessage');

        if (table && welcomeMessage) {
          if (table.children.length === 0) {
            welcomeMessage.style.display = 'block';
            welcomeMessage.classList.add('animate__animated', 'animate__fadeInUp');
          } else {
            welcomeMessage.style.display = 'none';
          }
        }
      }

      // åˆå§‹æ£€æŸ¥
      setTimeout(checkPlaylistEmpty, 1000);

      // ç›‘å¬è¡¨æ ¼å˜åŒ–
      const observer = new MutationObserver(checkPlaylistEmpty);
      const table = document.getElementById('videosTable');
      if (table) {
        observer.observe(table, { childList: true, subtree: true });
      }

      // æ·»åŠ æœç´¢æ¡†ç„¦ç‚¹æ•ˆæœ
      const inputBox = document.getElementById('inputBox');
      if (inputBox) {
        inputBox.addEventListener('focus', function() {
          this.parentElement.parentElement.style.transform = 'scale(1.02)';
        });

        inputBox.addEventListener('blur', function() {
          this.parentElement.parentElement.style.transform = 'scale(1)';
        });
      }

      // æ·»åŠ é¡µé¢åŠ è½½åŠ¨ç”»
      document.body.style.opacity = '0';
      document.body.style.transition = 'opacity 0.5s ease-in-out';

      setTimeout(function() {
        document.body.style.opacity = '1';
      }, 100);

      // æ·»åŠ æ»šåŠ¨æ•ˆæœ
      let lastScrollTop = 0;
      const header = document.querySelector('header');

      window.addEventListener('scroll', function() {
        const scrollTop = window.pageYOffset || document.documentElement.scrollTop;

        if (scrollTop > lastScrollTop && scrollTop > 100) {
          // å‘ä¸‹æ»šåŠ¨
          header.style.transform = 'translateY(-100%)';
        } else {
          // å‘ä¸Šæ»šåŠ¨
          header.style.transform = 'translateY(0)';
        }

        lastScrollTop = scrollTop;
      });
    });

    // æœç´¢ç»“æœæ˜¾ç¤ºæ—¶éšè—æ¬¢è¿æ¶ˆæ¯
    function hideWelcomeMessage() {
      const welcomeMessage = document.getElementById('welcomeMessage');
      if (welcomeMessage) {
        welcomeMessage.style.display = 'none';
      }
    }

    // å…¨å±€å‡½æ•°ï¼Œä¾›å…¶ä»–è„šæœ¬è°ƒç”¨
    window.modernUI = {
      hideWelcomeMessage: hideWelcomeMessage
    };
  </script>
</body>
</html>
